import{u as He,a as xe,b as Le,o as Xe}from"./theme.6e20b1a6.js";import{r as S,a as ee,a2 as Ce,e as W,c as N,C as Ae,f as we,h as Ye,x as Oe,H as Ve,m as We,l as je,O as Te,u as De,J as Ge,p as Ke,i as qe,F as he,a0 as G,N as ve,E as te,a3 as J,$ as Je,d as U,B as _e,w as ne,a4 as Ue,V as ze,a5 as Ne}from"./framework.e5fb373a.js";function Ze(e){const a=S(1200);ee(()=>{n(),window.addEventListener("resize",t)}),Ce(()=>{window.removeEventListener("resize",t)});const t=He(n);function n(){var h;a.value=((h=e.value)==null?void 0:h.getBoundingClientRect().width)||1200}return a}const Pt=W({__name:"vp-demo",props:{source:{},demos:{},path:{}},setup(e){const a=S(),t=Ze(a),n=e,h=N(()=>n.path.startsWith("grid-layout")),d=N(()=>({width:h.value?"":"100%",height:h.value?"":"300px"})),b=N(()=>{const c=Object.keys(n.demos);for(const r of c)if(r.replace("../examples/","").replace(".vue","")===n.path)return n.demos[r].default;return!1});return(c,r)=>{const y=Ae("ClientOnly");return we(),Ye(he,null,[Oe("section",{ref_key:"wrapRef",ref:a,style:{width:"100%"}},[Ve(y,null,{default:We(()=>[b.value?(we(),je(Ge(b.value),{key:0,style:Te(d.value),width:De(t)},null,8,["style","width"])):Ke("",!0)]),_:1})],512),qe(c.$slots,"source")],64)}}});const me=Symbol("Scene");function O(e,a={},t={},n={}){if(!e)return()=>null;const h=et(n),d={...a,...t,...h};return b=>G(e,d,b)}const Qe=/^nativeOn([A-Z]\S*)/;function et(e){const a={};let t=!1;Object.entries(e).forEach(([h,d])=>{{t=!0;const b=h.replace(Qe,(c,r)=>`on${r}`);a[b]=d}});const n={};return t&&(n.on=a),n.on}function X(e,a,t=1/0){return Math.max(Math.min(e,t),a)}function le(...e){}function Se(e){if(e){if(!e.getElementById("free-dom-style-el")){const a=e.createElement("style");a.id="free-dom-style-el",a.innerHTML=".free-dom-transparent-selection *::selection {all: inherit;}",e.getElementsByTagName("head")[0].appendChild(a)}e.body&&e.body.classList.add("free-dom-transparent-selection")}}function de(e){if(!e)return;e.body&&e.body.classList.remove("free-dom-transparent-selection");const a=e.getSelection();a&&a.removeAllRanges()}function tt(e,a,t,n,h){const{margin:d,cols:b,rowHeight:c,maxRows:r}=e,y=nt(e);let o=Math.round((a-d[0])/(y+d[0])),s=Math.round(t-d[1]/(c+d[1]));return o=X(o,0,b-n),s=X(s,0,r-h),{x:o,y:s}}function nt(e){const{margin:a,containerPadding:t,width:n,cols:h}=e;return(n-a[0]*(h-1)-t[0]*2)/h}const at=["xt","xc","xb","yl","yc","yr"],ot=W({props:{showLine:Boolean},setup(){const e=ve(me),a=te(at),t=N(()=>e.diff/e.transformScale),n=e.nodes,h=N(()=>n.filter(o=>!o.node.selected)),d=J({xt:{show:!1,pos:0},xc:{show:!1,pos:0},xb:{show:!1,pos:0},yl:{show:!1,pos:0},yc:{show:!1,pos:0},yr:{show:!1,pos:0}}),b=(o,s)=>{var z;const v=(z=n.find(M=>M.uuid===o))==null?void 0:z.node;v&&(c(),h.value.forEach(M=>{if(M.uuid===o)return;const m=r(v._rect),g=r(M.node._rect);y(m.top,g.top,s)&&(d.xt={show:!0,pos:g.top},v._rect.y=g.top),y(m.bottom,g.top,s)&&(d.xt={show:!0,pos:g.top},v._rect.y=g.top-m.height),y(m.centerY,g.centerY,s)&&(d.xc={show:!0,pos:g.centerY},v._rect.y=g.centerY-m.height/2),y(m.top,g.bottom,s)&&(d.xb={show:!0,pos:g.bottom},v._rect.y=g.bottom),y(m.bottom,g.bottom,s)&&(d.xb={show:!0,pos:g.bottom},v._rect.y=g.bottom-m.height),y(m.left,g.left,s)&&(d.yl={show:!0,pos:g.left},v._rect.x=g.left),y(m.right,g.left,s)&&(d.yl={show:!0,pos:g.left},v._rect.x=g.left-m.width),y(m.centerX,g.centerX,s)&&(d.yc={show:!0,pos:g.centerX},v._rect.x=g.centerX-m.width/2),y(m.left,g.right,s)&&(d.yr={show:!0,pos:g.right},v._rect.x=g.right),y(m.right,g.right,s)&&(d.yr={show:!0,pos:g.right},v._rect.x=g.right-m.width)}))};e==null||e.on("move",b),e==null||e.on("moveup",c),Ce(()=>{e==null||e.off("move"),e==null||e.off("moveup")});function c(){d.xt.show=!1,d.xc.show=!1,d.xb.show=!1,d.yl.show=!1,d.yc.show=!1,d.yr.show=!1}function r(o){return{deltaX:o.deltaX,deltaY:o.deltaY,top:o.y,bottom:o.y+o.height,left:o.x,right:o.x+o.width,width:o.width,height:o.height,centerX:o.x+o.width/2,centerY:o.y+o.height/2}}function y(o,s,v){const z=v?0:t.value;return Math.abs(o-s)<=z}return{lines:a,diff:t,lineStatus:d}},render(){const e=(t,n)=>G("div",{style:{[t.includes("x")?"top":"left"]:n.pos+"px"},class:[t.includes("x")?"vv-free-dom--xline":"vv-free-dom--yline","vv-free-dom--line"]}),a=this.showLine?this.lines.filter(t=>this.lineStatus[t].show).map(t=>e(t,this.lineStatus[t])):[];return G("div",{class:"vv-free-dom--markline"},a)}});function ae(){const e=Je(),a=typeof e.default=="function"?e.default():e.default,t=a==null?void 0:a[0];return{slots:a,only:t}}function rt(e){const a=S(NaN),t=S(NaN);function n(h,d){const b=isNaN(a.value),c=De(e);if(!c)throw new Error("drag node does not exist");return b?{node:c,deltaX:0,deltaY:0,lastX:h,lastY:d,x:h,y:d}:{node:c,deltaX:h-a.value,deltaY:d-t.value,lastX:a.value,lastY:t.value,x:h,y:d}}return{lastX:a,lastY:t,create:n}}function lt(e){const a=S(e.x||e.modelValue.x||0),t=S(e.y||e.modelValue.y||0),n=S(0),h=S(0),d=S();U(()=>{a.value=e.x||e.modelValue.x||0}),U(()=>{t.value=e.y||e.modelValue.y||0});const b=(o,s)=>{e.dragStartFn(o,s)},c=(o,s)=>{a.value=Number(s.x.toFixed(2)),t.value=Number(s.y.toFixed(2)),n.value=s.deltaX,h.value=s.deltaY,e.dragFn(o,s)},r=(o,s)=>{const v=d.value=y(s);e.dragStopFn(o,v)};function y(o){return{node:o.node,x:a.value+o.deltaX,y:t.value+o.deltaY,deltaX:o.deltaX,deltaY:o.deltaY,lastX:a.value,lastY:t.value}}return{x:a,y:t,deltaX:n,deltaY:h,create:y,handleDragStart:b,handleDrag:c,handleDragStop:r}}let st=0;function it(e,a,t){const n=ve(me,void 0),h=st++,d=N(()=>(n==null?void 0:n.handle)||t.handle),b=N(()=>(n==null?void 0:n.lockAspectRatio)||t.lockAspectRatio),c=N(()=>(n==null?void 0:n.minWidth)||t.minWidth),r=N(()=>(n==null?void 0:n.minHeight)||t.minHeight),y=N(()=>(n==null?void 0:n.disabledDrag)||t.disabledDrag),o=N(()=>(n==null?void 0:n.disabledResize)||t.disabledResize),s=N(()=>(n==null?void 0:n.disabledSelect)||t.disabledSelect),v=N(()=>(n==null?void 0:n.scale)||t.scale),z=N(()=>(n==null?void 0:n.transformScale)||t.transformScale),M=N(()=>(n==null?void 0:n.fixNonMonospaced)||t.fixNonMonospaced),m=N(()=>(n==null?void 0:n.keyboard)||t.keyboard),g=N(()=>n==null?void 0:n.manualDiff);ee(()=>{const w=e.value;if(!w){console.warn("[free-dom] mounted failed: element not found");return}n==null||n.register(w.$el,h,a)}),_e(()=>{n==null||n.remove(h)});function k(w){return n?n.checkValid(w):!0}function f(w){return n?n.correct(w):w}return{emit:(w,i)=>{n==null||n.emit(w,h,i)},check:k,correct:f,clearSelectState:n==null?void 0:n.clearSelectState,width:n==null?void 0:n.width,height:n==null?void 0:n.height,history:n==null?void 0:n.history,scale:v,handle:d,lockAspectRatio:b,minWidth:c,minHeight:r,disabledDrag:y,disabledResize:o,disabledSelect:s,fixNonMonospaced:M,transformScale:z,keyboard:m,manualDiff:g}}const K=S({});function ge(){return{on:(n,h)=>{K.value[n]?K.value[n].push(h):K.value[n]=[h]},off:n=>{K.value[n].length=0},emit:(n,...h)=>{(K.value[n]||[]).forEach(b=>b(...h))}}}function ut(e,a){const t=S(h()),n=S(d());U(()=>{t.value=h()}),U(()=>{n.value=d()});function h(){return e.width||e.modelValue.w}function d(){return e.height||e.modelValue.h}async function b(c,r,y){if(e.width&&e.height||e.modelValue.w&&e.modelValue.h)return;if(!a.value)return[0,0];c&&await document.fonts.ready;const{width:o,height:s}=window.getComputedStyle(a.value.$el);t.value=Math.max(Math.ceil(parseFloat(o)),r),n.value=Math.max(Math.ceil(parseFloat(s)),y)}return{width:t,height:n,syncSize:b}}function ct(e){const a=te(e.modelValue);ne(()=>e.modelValue,()=>{a.value=e.modelValue},{deep:!0});const t=N(()=>{var u;return(e.width-d.value[0]*(n.value-1)-(((u=c.value)==null?void 0:u[0])||d.value[0])*2)/e.cols}),n=N(()=>e.cols),h=N(()=>e.rowHeight),d=N(()=>e.margin),b=N(()=>e.maxRows),c=N(()=>e.containerPadding),r=N(()=>e.minW),y=N(()=>e.minH);function o(u){return a.value.find(l=>l.i===u)}function s(){return a.value}function v(u){a.value=u}function z(u,l,p,_,E,I){if(l.static||l.y===_&&l.x===p)return u;le(`Moving element ${l.i} to [${String(p)},${String(_)}] from [${l.x},${l.y}]`);const x=l.x,P=l.y;typeof p=="number"&&(l.x=p),typeof _=="number"&&(l.y=_),l.moved=!0;const H=k(u).filter(L=>f(L,l));return H.length>0&&I?(l.x=x,l.y=P,l.moved=!1,u):(H.forEach(L=>{le(`Resolving collision between ${l.i} at [${l.x},${l.y}] and ${L.i} at [${L.x},${L.y}]`,L.moved,L.i),!L.moved&&(L.static?u=M(u,L,l,E):u=M(u,l,L,E))}),u)}function M(u,l,p,_){const E=l.static;if(_){_=!1;const I={x:p.x,y:Math.max(l.y-p.h,0),w:p.w,h:p.h,i:"-1"};if(!w(u,I))return le(`Doing reverse collision on ${p.i} up to [${I.x},${I.y}].`),z(u,p,void 0,I.y,_,E)}return z(u,p,void 0,p.y+1,_,E)}function m(u,l,p){const E=z(a.value,u,l,p,!0,!e.collision);return a.value=i(E),a.value}function g(u,l,p){let _=!1;if(!e.collision){const E=a.value.filter(I=>f(I,{...u,w:l,h:p}));if(_=E.length>0,_){let I=1/0,x=1/0;E.forEach(P=>{P.x>u.x&&(I=Math.min(P.x,I)),P.y>u.y&&(x=Math.min(P.y,x))}),Number.isFinite(I)&&(u.w=I-u.x),Number.isFinite(x)&&(u.h=x-u.y)}}return _||(u.w=l,u.h=p),a.value=i([...a.value]),a.value}function k(u){return u.slice(0).sort((l,p)=>l.y>p.y||l.y===p.y&&l.x>p.x?1:l.y===p.y&&l.x===p.x?0:-1)}function f(u,l){return u.i===l.i||u.x+u.w<=l.x||u.x>=l.x+l.w||u.y+u.h<=l.y?!1:!(u.y>=l.y+l.h)}function w(u,l){for(let p=0;p<u.length;++p)if(f(u[p],l))return u[p]}function i(u){const l=u.filter(E=>E.static),p=k(u),_=new Array(u.length);return p.forEach((E,I)=>{let x=JSON.parse(JSON.stringify(E));x.static||(x=D(l,x,p),l.push(x)),_[u.indexOf(p[I])]=x,x.moved=!1}),_}function D(u,l,p){if(e.collision)for(l.y=Math.min(F(u),l.y);l.y>0&&!w(u,l);)--l.y;let _;for(;(_=w(u,l))&&e.collision;)A(p,l,_.y+_.h,"y");return l}function F(u){let l=0;return u.forEach(p=>{const _=p.y+p.h;_>l&&(l=_)}),l}function R(){var l;if(!e.autoHeight)return;const u=F(a.value);return`${u*e.rowHeight+d.value[1]*(u-1)+(((l=c.value)==null?void 0:l[1])||d.value[1])*2}px`}const $={x:"w",y:"h"};function A(u,l,p,_){const E=$[_];l[_]+=1;const I=u.findIndex(x=>x===l);for(let x=I+1;x<u.length;++x){const P=u[x];if(P.y>l.y+l.h)break;f(l,P)&&A(u,P,p+l[E],_)}l[_]=p}function C(u){a.value=[...a.value,u]}return{cellWidth:t,cols:n,rowHeight:h,margin:d,maxRows:b,containerPadding:c,minW:r,minH:y,updateDroppingItem:C,calContainerHeight:R,moveTo:m,resizeTo:g,getItem:o,getFull:s,setFull:v,normalize:i}}function dt(e,a){const{cellWidth:t,margin:n,rowHeight:h,cols:d,maxRows:b,containerPadding:c}=a,r=S(),y=S(),o=N(()=>c.value||n.value),s=N(()=>r.value?Math.round(r.value.x):Math.round(e.x*(t.value+n.value[0])+o.value[0])),v=N(()=>r.value?Math.round(r.value.y):Math.round(e.y*(h.value+n.value[1])+o.value[1])),z=N(()=>y.value?Math.round(y.value.width):Math.round(t.value*e.width+Math.max(0,e.width-1)*n.value[0])),M=N(()=>y.value?Math.round(y.value.height):Math.round(h.value*e.height+Math.max(0,e.height-1)*n.value[1])),m=N(()=>{const C=a.minW.value;return Math.round(t.value*C+Math.max(0,C-1)*n.value[0])}),g=N(()=>{const C=a.minH.value;return Math.round(h.value*C+Math.max(0,C-1)*n.value[1])}),k=N(()=>({position:"absolute",width:`${z.value}px`,height:`${M.value}px`,transform:`translate(${s.value}px, ${v.value}px)`})),f=(C,{node:u})=>{const l=u.offsetParent.getBoundingClientRect(),p=u.getBoundingClientRect();r.value={x:p.left-l.left+u.offsetParent.scrollLeft,y:p.top-l.top+u.offsetParent.scrollTop}},w=(C,u)=>{if(!r.value)throw new Error("onDrag called before onDragStart");const{deltaX:l,deltaY:p}=u,_=r.value.x+l,E=r.value.y+p;r.value={x:_,y:E};const{x:I,y:x}=$(_,E);e.dragFn(C,{x:I,y:x})},i=C=>{if(!r.value)throw new Error("onDragStop called before onDratStart");const{x:u,y:l}=r.value,{x:p,y:_}=$(u,l);r.value=void 0,e.dragEndFn(C,{x:p,y:_})},D=(C,{width:u,height:l})=>{y.value={width:u,height:l}},F=(C,u)=>{const{width:l,height:p}=u,{w:_,h:E}=A(l,p);y.value={width:l,height:p},e.resizeFn(C,{w:_,h:E})},R=(C,u)=>{y.value=void 0;const{width:l,height:p}=u,{w:_,h:E}=A(l,p);e.resizeStopFn(C,{w:_,h:E})};function $(C,u){let l=Math.round((C-n.value[0])/(t.value+n.value[0])),p=Math.round((u-n.value[1])/(h.value+n.value[1]));return l=X(l,0,d.value-e.width),p=X(p,0,b.value-e.height),{x:l,y:p}}function A(C,u){let l=Math.round((C+n.value[0])/(t.value+n.value[0])),p=Math.round((u+n.value[1])/(h.value+n.value[1]));return l=X(l,0,d.value-e.x),p=X(p,0,b.value-e.y),{w:l,h:p}}return{x:s,y:v,width:z,height:M,dragging:r,resizing:y,style:k,minWidth:m,minHeight:g,onDragStart:f,onDrag:w,onDragStop:i,onResizeStart:D,onResize:F,onResizeStop:R}}var Bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ft(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function It(e){if(e.__esModule)return e;var a=e.default;if(typeof a=="function"){var t=function n(){if(this instanceof n){var h=[null];h.push.apply(h,arguments);var d=Function.bind.apply(a,h);return new d}return a.apply(this,arguments)};t.prototype=a.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var h=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,h.get?h:{enumerable:!0,get:function(){return e[n]}})}),t}var fe={exports:{}},se,be;function ht(){if(be)return se;be=1;var e=1e3,a=e*60,t=a*60,n=t*24,h=n*7,d=n*365.25;se=function(o,s){s=s||{};var v=typeof o;if(v==="string"&&o.length>0)return b(o);if(v==="number"&&isFinite(o))return s.long?r(o):c(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))};function b(o){if(o=String(o),!(o.length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(s){var v=parseFloat(s[1]),z=(s[2]||"ms").toLowerCase();switch(z){case"years":case"year":case"yrs":case"yr":case"y":return v*d;case"weeks":case"week":case"w":return v*h;case"days":case"day":case"d":return v*n;case"hours":case"hour":case"hrs":case"hr":case"h":return v*t;case"minutes":case"minute":case"mins":case"min":case"m":return v*a;case"seconds":case"second":case"secs":case"sec":case"s":return v*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function c(o){var s=Math.abs(o);return s>=n?Math.round(o/n)+"d":s>=t?Math.round(o/t)+"h":s>=a?Math.round(o/a)+"m":s>=e?Math.round(o/e)+"s":o+"ms"}function r(o){var s=Math.abs(o);return s>=n?y(o,s,n,"day"):s>=t?y(o,s,t,"hour"):s>=a?y(o,s,a,"minute"):s>=e?y(o,s,e,"second"):o+" ms"}function y(o,s,v,z){var M=s>=v*1.5;return Math.round(o/v)+" "+z+(M?"s":"")}return se}function vt(e){t.debug=t,t.default=t,t.coerce=r,t.disable=d,t.enable=h,t.enabled=b,t.humanize=ht(),t.destroy=y,Object.keys(e).forEach(o=>{t[o]=e[o]}),t.names=[],t.skips=[],t.formatters={};function a(o){let s=0;for(let v=0;v<o.length;v++)s=(s<<5)-s+o.charCodeAt(v),s|=0;return t.colors[Math.abs(s)%t.colors.length]}t.selectColor=a;function t(o){let s,v=null,z,M;function m(...g){if(!m.enabled)return;const k=m,f=Number(new Date),w=f-(s||f);k.diff=w,k.prev=s,k.curr=f,s=f,g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let i=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(F,R)=>{if(F==="%%")return"%";i++;const $=t.formatters[R];if(typeof $=="function"){const A=g[i];F=$.call(k,A),g.splice(i,1),i--}return F}),t.formatArgs.call(k,g),(k.log||t.log).apply(k,g)}return m.namespace=o,m.useColors=t.useColors(),m.color=t.selectColor(o),m.extend=n,m.destroy=t.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(z!==t.namespaces&&(z=t.namespaces,M=t.enabled(o)),M),set:g=>{v=g}}),typeof t.init=="function"&&t.init(m),m}function n(o,s){const v=t(this.namespace+(typeof s>"u"?":":s)+o);return v.log=this.log,v}function h(o){t.save(o),t.namespaces=o,t.names=[],t.skips=[];let s;const v=(typeof o=="string"?o:"").split(/[\s,]+/),z=v.length;for(s=0;s<z;s++)v[s]&&(o=v[s].replace(/\*/g,".*?"),o[0]==="-"?t.skips.push(new RegExp("^"+o.slice(1)+"$")):t.names.push(new RegExp("^"+o+"$")))}function d(){const o=[...t.names.map(c),...t.skips.map(c).map(s=>"-"+s)].join(",");return t.enable(""),o}function b(o){if(o[o.length-1]==="*")return!0;let s,v;for(s=0,v=t.skips.length;s<v;s++)if(t.skips[s].test(o))return!1;for(s=0,v=t.names.length;s<v;s++)if(t.names[s].test(o))return!0;return!1}function c(o){return o.toString().substring(2,o.toString().length-2).replace(/\.\*\?$/,"*")}function r(o){return o instanceof Error?o.stack||o.message:o}function y(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var mt=vt;(function(e,a){a.formatArgs=n,a.save=h,a.load=d,a.useColors=t,a.storage=b(),a.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const y="color: "+this.color;r.splice(1,0,y,"color: inherit");let o=0,s=0;r[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(o++,v==="%c"&&(s=o))}),r.splice(s,0,y)}a.log=console.debug||console.log||(()=>{});function h(r){try{r?a.storage.setItem("debug",r):a.storage.removeItem("debug")}catch{}}function d(){let r;try{r=a.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r={}.DEBUG),r}function b(){try{return localStorage}catch{}}e.exports=mt(a);const{formatters:c}=e.exports;c.j=function(r){try{return JSON.stringify(r)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}})(fe,fe.exports);var gt=fe.exports;const Me=ft(gt),Z=Me("freeDom:use-mask");function yt(e,a,t,n){const h=ge(),d=S(0),b=S(0),c=S(0),r=S(0),y=Re(t),o=S(!1),s=N(()=>{const C=c.value-d.value,u=r.value-b.value;return{visibility:v.value?"visible":"hidden",border:"2px solid rgb(0,120,215)",background:"rgb(0,120,215,0.3)",position:"absolute",top:b.value+(u<0?u:0)+"px",left:d.value+(C<0?C:0)+"px",width:Math.abs(C)+"px",height:Math.abs(u)+"px",zIndex:1}}),v=S(!1),z=S(!1),M=xe(e),m=N(()=>{var C;return(C=Le(e))==null?void 0:C.ownerDocument}),g=N(()=>t.value.filter(C=>!(a.disabledSelect||C.node.disabledSelect)));function k(){let C;g.value.forEach(u=>{const l=u.node._rect;if(l.x==null||l.y==null||l.width==null||l.height==null)return!1;const p=l.x,_=l.y,E=p+l.width,I=_+l.height,x=f(p,_,E,I);u.node.selected=x,x&&(C=u)}),C==null||C.el.focus()}function f(C,u,l,p){const _=Math.min(d.value,c.value),E=Math.min(b.value,r.value),I=Math.max(d.value,c.value),x=Math.max(b.value,r.value);Z("is selected",d.value,b.value,c.value,r.value);const P=w(_,I,C,l,Math.abs(C-l)/5),B=w(E,x,u,p,Math.abs(u-p)/5);return P&&B}function w(C,u,l,p,_){return Math.max(C,l)-Math.min(u,p)<=-_}function i(C){const u=C.clientX-M.x.value,l=C.clientY-M.y.value;return{x:u,y:l}}function D(C){if(a.disabledBatch)return;Se(m.value);const{x:u,y:l}=i(C);z.value=!0,d.value=u,b.value=l,c.value=u,r.value=l,document.addEventListener("mouseup",R)}function F(C){if(!z.value)return;o.value||(h.emit("batch-select","start"),o.value=!0);const{x:u,y:l}=i(C);Z(c.value,u,r.value,l),!(c.value===u&&r.value===l)&&(v.value=!0,Z("cal",u,0,n.width.value),c.value=X(u,0,n.width.value),r.value=X(l,0,n.height.value),Z("update last",c.value,r.value),A())}function R(){de(m.value),z.value=!1,v.value=!1,o.value=!1,c.value===d.value&&r.value===b.value||(y.push({type:"batch-select"}),setTimeout(()=>{h.emit("batch-select","end",{lastX:c.value,lastY:r.value,startX:d.value,startY:b.value}),c.value=0,r.value=0,d.value=0,b.value=0})),document.removeEventListener("mouseup",R)}function $(){return G("div",{id:"mask",style:s.value})}async function A(){k()}return{selecting:v,renderMask:$,handleMousedown:D,handleMousemove:F}}const ie=S([]),pt=S({canClear:!1});function Re(e){const a=N(()=>{var n;return(n=ie.value.slice(-1)[0])==null?void 0:n.type});function t(n){ie.value.push({...n,data:e})}return{state:pt,records:ie,lastOperate:a,push:t}}function ue(){}const wt={userSelectHack:{type:Boolean,default:!0},startFn:{type:Function,default:ue},stopFn:{type:Function,default:ue},dragFn:{type:Function,default:ue},disabled:Boolean,scale:{type:Number,default:1}},ye=W({name:"FreeDomCore",props:wt,setup(e){const a=S(!1),t=S(),n=N(()=>{var f;return((f=t.value)==null?void 0:f.$el)||t.value}),h=N(()=>{var f;return(f=n.value)==null?void 0:f.ownerDocument}),{lastX:d,lastY:b,create:c}=rt(n),r=S(NaN),y=S(NaN);let o,s;_e(()=>{h.value&&(e.userSelectHack&&de(h.value),h.value.removeEventListener("mousemove",g),h.value.removeEventListener("mouseup",m))});function v(f){return M(f)}function z(f){m(f)}function M(f){var F,R;if(e.disabled||!f.target||!(f.target instanceof n.value.ownerDocument.defaultView.Node))return;const{x:w,y:i}=k(f),D=c(w,i);e.startFn(f,D),r.value=w,y.value=i,d.value=w,b.value=i,a.value=!0,e.userSelectHack&&Se(h.value),(F=h.value)==null||F.addEventListener("mousemove",g),(R=h.value)==null||R.addEventListener("mouseup",m)}function m(f){var w,i;if(a.value){if(!(r.value===d.value&&y.value===b.value)){const{x:D,y:F}=k(f),R=c(D,F);e.stopFn(f,R)}e.userSelectHack&&de(h.value),a.value=!1,d.value=NaN,b.value=NaN,(w=h.value)==null||w.removeEventListener("mousemove",g),(i=h.value)==null||i.removeEventListener("mouseup",m)}}function g(f){const{x:w,y:i}=k(f),D=c(w,i);e.dragFn(f,D),d.value=w,b.value=i}function k(f){var R;const w=((R=n.value)==null?void 0:R.offsetParent)||h.value.body,i=w===w.ownerDocument.body;(!o||o!==w)&&(o=w,s=i?{left:0,top:0}:w.getBoundingClientRect());const D=(f.clientX+w.scrollLeft-s.left)/e.scale,F=(f.clientY+w.scrollTop-s.top)/e.scale;return{x:D,y:F}}return{coreRef:t,mousedownFn:v,mouseupFn:z}},render(){const{only:e}=ae(),a=O(e,{ref:t=>{this.coreRef=t}},{},{onMousedown:t=>{t.stopPropagation(),this.mousedownFn(t)},onMouseup:this.mouseupFn});return typeof a=="function"?a():a}}),bt=["t","r","l","b","lt","lb","rt","rb"];function ce(){}const q={dragOpts:{type:Object,default:()=>({})},width:{type:Number,default:0},height:{type:Number,default:0},scale:{type:[Boolean,Array],default:void 0},startFn:{type:Function,default:ce},stopFn:{type:Function,default:ce},resizeFn:{type:Function,default:ce},minWidth:{type:Number,default:50},minHeight:{type:Number,default:50},lockAspectRatio:Boolean},ke=W({name:"ResizeDomCore",props:q,setup(e,{slots:a}){const t=N(()=>{const c=e.scale;return Array.isArray(c)?c:bt}),n=te();function h(c,r,y){const{lockAspectRatio:o}=e;if(!e.minHeight&&!e.minWidth&&!o)return[c,r];if(o&&y.length===2){const s=e.width/e.height;s>1?(r=Math.max(r,e.minHeight),c=r*s):(c=Math.max(c,e.minWidth),r=c/s)}else c=Math.max(c,e.minWidth),r=Math.max(r,e.minHeight);return[c,r]}function d(c,r){return(y,{node:o,deltaX:s,deltaY:v})=>{c==="start"&&(n.value=void 0);const z=r!=="t"&&r!=="b",M=r!=="l"&&r!=="r",m=r[0],g=r[r.length-1],k=o.getBoundingClientRect();n.value=k,m==="l"&&(s=-s),g==="t"&&(v=-v);let f=e.width+(z?s:0),w=e.height+(M?v:0);y.shiftKey||([f,w]=h(f,w,r));const i=f!==e.width||w!==e.height,D=`${c}Fn`,F=typeof e[D]=="function"?e[D]:null;F&&!(c==="resize"&&!i)&&F(y,{node:o,width:f,height:w,handle:r}),c==="stop"&&(n.value=void 0)}}function b(c){return a.handler?()=>{var r;return(r=a.handler)==null?void 0:r.call(a,c)}:()=>G("i",{dataType:"handler",class:["vv-resize-dom--handler",`vv-resize-dom--handler__${c}`]})}return{dots:t,handleResize:d,renderResizehandler:b}},render(){const{slots:e}=ae(),a=[...e||[],this.dots.map(t=>O(ye,{class:[this.dragOpts.disabled&&"vv-resize-dom--disabled"]},{...this.dragOpts,stopFn:this.handleResize("stop",t),startFn:this.handleResize("start",t),dragFn:this.handleResize("resize",t)})(this.renderResizehandler(t)))];return O("div",{class:"vv-resize-dom--box"})(a)}});function j(){}const V={modelValue:{type:Object,default:()=>({})},active:{type:Boolean,default:void 0},keyboard:Boolean,x:{type:Number,default:0},y:{type:Number,default:0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},handle:{type:String,default:void 0},lockAspectRatio:Boolean,dragStartFn:{type:Function,default:j},dragStopFn:{type:Function,default:j},dragFn:{type:Function,default:j},resizeStartFn:{type:Function,default:j},resizeFn:{type:Function,default:j},resizeStopFn:{type:Function,default:j},autoSize:{type:Boolean,default:!0},minWidth:q.minWidth,minHeight:q.minHeight,disabledDrag:Boolean,disabledResize:Boolean,disabledSelect:Boolean,scale:q.scale,transformScale:{type:Number,default:1},fixNonMonospaced:Boolean},Ft=W({name:"FreeDom",props:V,emits:["update:width","update:height","update:x","update:y","update:modelValue","select"],setup(e,{emit:a,expose:t,slots:n}){const h=S(),d=S(!1);ge().on("batch-select",x=>{d.value=x==="start"});const{x:c,y:r,deltaX:y,deltaY:o,create:s,handleDragStart:v,handleDrag:z,handleDragStop:M}=lt(e),{width:m,height:g,syncSize:k}=ut(e,h),f=S(!1);ne(()=>e.active,x=>{typeof x=="boolean"&&(f.value=x)},{immediate:!0}),U(()=>{a("select",f.value)});const w=J({disabledSelect:Ue(e,"disabledSelect"),selected:f,_rect:J({x:c,y:r,width:m,height:g,deltaX:y,deltaY:o}),trigger:x=>{a("update:modelValue",x)},props:e}),i=it(h,w,e);Xe(h,()=>{!f.value||d.value||(f.value=!1)},{ignore:[i.clearSelectState&&".vv-free-dom--draggable"]});const D=()=>{k(i.fixNonMonospaced.value,i.minWidth.value,i.minHeight.value)},F=S(!1);ee(()=>{e.autoSize&&D()});const R=N(()=>({width:`${m.value}px`,height:`${g.value}px`,transform:`translate(${c.value}px, ${r.value}px)`})),$=(x,P)=>{var L;if(!F.value)return;const B=s(P),H={x:B.x,y:B.y,width:m.value,height:g.value};(L=i.check)!=null&&L.call(i,H)&&(z(x,B),i.emit("move",i.manualDiff.value?!x.shiftKey:x.shiftKey))},A=(x,P)=>{var Y,L;if(!F.value)return;const B={x:c.value,y:r.value,width:m.value,height:g.value};((Y=i.check)==null?void 0:Y.call(i,B))||(c.value=X(c.value,0,i.width),r.value=X(r.value,0,i.height)),M(x,P),i.emit("moveup"),a("update:x",c.value),a("update:y",r.value),a("update:modelValue",{x:c.value,y:r.value,w:m.value,h:g.value}),(L=i.history)==null||L.push({type:"move-end"})},C=(x,P)=>{const B=i.handle.value;B?B.startsWith(".")?F.value=x.target.classList.contains(B.slice(1)):B.startsWith("#")?F.value=x.target.id===B.slice(1):(console.warn(`[free-dom] can not find element with ${B}`),F.value=!0):F.value=!0,F.value&&v(x,P)},u=(x,{node:P,width:B,height:H,handle:Y})=>{var pe;const L=-(B-m.value),Be=-(H-g.value),Ie=Y[0],$e=Y[Y.length-1];let oe=c.value,re=r.value;Ie==="l"&&(oe+=L),$e==="t"&&(re+=Be),(pe=i.check)!=null&&pe.call(i,{x:oe,y:re,width:B,height:H})&&(m.value=Number(B.toFixed(2)),g.value=Number(H.toFixed(2)),c.value=Number(oe.toFixed(2)),r.value=Number(re.toFixed(2)),e.resizeFn(x,{node:P,width:B,height:H,handle:Y}),i.emit("move",i.manualDiff.value?!x.shiftKey:x.shiftKey))},l=(x,P)=>{var H,Y;((H=i.check)==null?void 0:H.call(i,{x:c.value,y:r.value,width:m.value,height:g.value}))||(c.value=X(c.value,0,i.width),r.value=X(r.value,0,i.height)),e.resizeStopFn(x,P),a("update:width",m.value),a("update:height",g.value),a("update:modelValue",{x:c.value,y:r.value,w:m.value,h:g.value}),i.emit("moveup"),(Y=i.history)==null||Y.push({type:"resize-end"})},p=(x,P)=>{var B;(B=i.clearSelectState)==null||B.call(i),f.value=!0,e.resizeStartFn(x,P)},_=()=>{const x={width:m.value,height:g.value,lockAspectRatio:i.lockAspectRatio.value,dragOpts:{disabled:i.disabledResize.value,scale:i.transformScale.value},startFn:p,resizeFn:u,stopFn:l,minHeight:i.minHeight.value,minWidth:i.minWidth.value,scale:i.scale.value};return O(ke,{},x)(n)};function E(x){var P,B,H;i.disabledSelect.value||(x.ctrlKey?(f.value=!f.value,(P=i.history)==null||P.push({type:"select"})):f.value||((B=i.clearSelectState)==null||B.call(i),f.value=!0,(H=i.history)==null||H.push({type:"select"})))}function I(x){var H;if(i.disabledDrag.value||!i.keyboard.value)return;switch(x.preventDefault(),x.key){case"ArrowUp":o.value=-1,y.value=0;break;case"ArrowDown":o.value=1,y.value=0;break;case"ArrowLeft":y.value=-1,o.value=0;break;case"ArrowRight":y.value=1,o.value=0;break;default:y.value=0,o.value=0}c.value+=y.value,r.value+=o.value;const P={x:c.value,y:r.value,width:m.value,height:g.value};((H=i.check)==null?void 0:H.call(i,P))||(c.value=X(c.value,0,(i.width||0)-(m.value||0)),r.value=X(r.value,0,(i.height||0)-(g.value||0))),a("update:x",c.value),a("update:y",r.value),a("update:modelValue",{x:c.value,y:r.value,w:m.value,h:g.value}),i.emit("move",!0)}return t==null||t({syncSize:D}),{selected:f,domRef:h,style:R,onDragStop:A,onDrag:$,onDragStart:C,resizeNode:_,handleKeyboard:I,handleSelect:E,disabled:i.disabledDrag,scale:i.transformScale}},render(){var t;const e={startFn:this.onDragStart,stopFn:this.onDragStop,dragFn:this.onDrag,disabled:this.disabled,scale:this.scale},a=()=>this.resizeNode();return(t=O(ye,{ref:"domRef",tabindex:-1,class:["vv-free-dom--draggable",this.disabled&&"vv-free-dom--draggable__disabled",(this.active||this.selected)&&"vv-free-dom--draggable__selected"],style:this.style},e,{nativeOnMousedown:this.handleSelect,nativeOnKeydown:this.handleKeyboard}))==null?void 0:t(a)}}),xt=Me("freeDom:wrap"),Ct={diff:{type:Number,default:2},manualDiff:Boolean,showLine:{type:Boolean,default:!0},transformScale:{type:Number,default:1},keyboard:Boolean,disabledBatch:Boolean,handle:V.handle,minWidth:{type:Number,default:void 0},minHeight:{type:Number,default:void 0},lockAspectRatio:V.lockAspectRatio,disabledDrag:V.disabledDrag,disabledResize:V.disabledResize,disabledSelect:V.disabledSelect,scale:V.scale,fixNonMonospaced:V.fixNonMonospaced},Dt=W({name:"FreeDomWrap",props:Ct,emits:["batch-select","drop"],setup(e,{emit:a}){const t=ge(),n=S([]),h=Re(n),d=S(0),b=S(0),c=te(),r=xe(c);ne([r.width,r.height,()=>n.value.length],([f,w])=>{xt("update size"),d.value=f,b.value=w,!(!f||!w)&&v()});const y=N(()=>n.value.filter(f=>f.node.selected));t.on("move",f=>{const w=y.value.find(F=>F.uuid===f);if(!w)return;const{deltaX:i,deltaY:D}=w.node._rect;y.value.forEach(F=>{F.uuid!==f&&(F.node._rect.x+=i||0,F.node._rect.y+=D||0)})}),t.on("batch-select",(f,w)=>{f==="end"&&a("batch-select",w)});const o=S(!1),s=yt(c,e,n,{width:d,height:b});function v(){n.value.forEach(f=>{const w=e.minWidth||f.node.props.minWidth,i=e.minHeight||f.node.props.minHeight,{x:D,y:F,width:R,height:$}=g(f.node._rect,w,i);f.node._rect.x=D,f.node._rect.y=F,f.node._rect.width=R,f.node._rect.height=$,f.node.trigger({x:D,y:F,w:R,h:$})})}function z(f,w,i){n.value.push({el:f,uuid:w,node:i})}function M(f){const w=n.value.findIndex(i=>i.uuid===f);n.value.splice(w,1)}function m(f){const{x:w,y:i,width:D,height:F}=f;return w>=0&&w+D<=d.value&&i>=0&&i+F<=b.value}function g(f,w,i){let D=Math.max(f.x,0),F=Math.max(f.y,0),R=f.width,$=f.height;return f.x+f.width>d.value&&(D=d.value-f.width,D<0&&(R=Math.max(d.value,w),D=0)),f.y+f.height>b.value&&(F=b.value-f.height,F<0&&($=Math.max(b.value,i),F=0)),{x:D,y:F,width:R,height:$}}function k(){y.value.forEach(f=>{f.node.selected=!1})}return ze(me,J({...Ne(e),nodes:n,width:d,height:b,history:h,clearSelectState:k,register:z,remove:M,checkValid:m,correct:g,on:t.on,off:t.off,emit:t.emit})),{rectRef:c,selecting:o,mask:s,history:h}},render(){const{slots:e}=ae(),a=O(ot,{},{showLine:this.showLine})(),t=[this.mask.selecting&&this.mask.renderMask(),e,a];return O("section",{ref:"rectRef",class:"vv-free-dom--scene"},{},{ondrop:n=>{this.$emit("drop",n)},ondragover:n=>{n.preventDefault()},onMousedown:this.mask.handleMousedown,onMousemove:this.mask.handleMousemove})(t)}}),Ee=Symbol("gridLayoutContext"),T=()=>{},_t={x:{type:Number,required:!0},y:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},dragStartFn:{type:Function,default:T},dragFn:{type:Function,default:T},dragEndFn:{type:Function,default:T},resizeStartFn:{type:Function,default:T},resizeFn:{type:Function,default:T},resizeStopFn:{type:Function,default:T},isDraggable:Boolean,isResizable:Boolean,scale:{type:q.scale.type,default:()=>["rb"]},droppingPosition:{type:Object,default:void 0}},zt=["dragMove"],Fe=W({name:"GridItem",props:_t,emits:zt,setup(e){const a=S(),t=ve(Ee);if(!t)throw new Error("TODO");ee(()=>{n()}),ne(()=>e.droppingPosition,(i,D)=>{n(D)},{deep:!0});function n(i){var $;if(!e.droppingPosition)return;const D=($=a.value)==null?void 0:$.$el;if(!D)return;const F=i||{left:0,top:0},R=r.value&&e.droppingPosition.left!==F.left||e.droppingPosition.top!==F.top;if(!r.value)v(e.droppingPosition.evt,{node:D,deltaX:e.droppingPosition.left,deltaY:e.droppingPosition.top,x:0,y:0,lastX:0,lastY:0});else if(R){const A=e.droppingPosition.left-F.left,C=e.droppingPosition.top-F.top;z(e.droppingPosition.evt,{node:D,deltaX:A,deltaY:C,x:0,y:0,lastX:0,lastY:0})}}const{x:h,y:d,width:b,height:c,dragging:r,style:y,minWidth:o,minHeight:s,onDragStart:v,onDrag:z,onDragStop:M,onResizeStart:m,onResize:g,onResizeStop:k}=dt(e,t),f=i=>{const D={width:b.value,height:c.value,scale:e.scale,dragOpts:{disabled:!e.isResizable},minWidth:o.value,minHeight:s.value,startFn:m,resizeFn:g,stopFn:k};return O(ke,{},D)(()=>i)};return{x:h,y:d,width:b,height:c,style:y,dragging:r,onDragStart:v,onDrag:z,onDragStop:M,onResizeStart:m,onResize:g,onResizeStop:k,dragNode:i=>{const D={class:[r.value&&"vv-grid-layout--item__draggable","vv-grid-layout--item",!e.isDraggable&&"vv-grid-layout--item__disabled"],style:y.value,ref:a},F={disabled:!e.isDraggable,startFn:v,stopFn:M,dragFn:z};return O(ye,D,F)(()=>f(i))}}},render(){const{slots:e}=ae(),a=e;return this.dragNode(a)}});function Nt(e,a){const t=S(),n=S();function h(d){d.preventDefault(),d.stopPropagation();const b=d.currentTarget.getBoundingClientRect(),c=d.clientX-b.left,r=d.clientY-b.top,y={left:c,top:r,evt:d};if(t.value){if(n.value){const{left:o,top:s}=n.value;o!==c&&s!==r&&(n.value=y)}}else{t.value=O("div",{key:a.droppingItem.i}),n.value=y;const o={cols:a.cols,margin:a.margin,maxRows:a.maxRows,rowHeight:a.rowHeight,width:a.width,containerPadding:a.containerPadding||a.margin},s=tt(o,c,r,a.droppingItem.w,a.droppingItem.h);e.updateDroppingItem({...a.droppingItem,x:s.x,y:s.y,static:!1,isDraggable:!0})}}return{onDropover:h,droppingNode:t,position:n}}const St={droppable:Boolean,droppingItem:{type:Object,default:()=>({i:"__dropping-elem__",w:1,h:1})},modelValue:{type:Array,required:!0,default:()=>[]},autoHeight:{type:Boolean,default:!0},cols:{type:Number,default:12},maxRows:{type:Number,default:1/0},minW:{type:Number,default:1},minH:{type:Number,default:1},rowHeight:{type:Number,default:150},width:{type:Number,default:1200},margin:{type:Array,default:()=>[10,10]},containerPadding:{type:Array,default:void 0},disabledDrag:Boolean,disabledResize:Boolean,collision:Boolean},Mt=W({name:"GridLayout",inheritAttrs:!1,props:St,emits:["update:modelValue","dropItem"],setup(e,{emit:a}){const t=ct(J(Ne(e))),n=Nt(t,e);ze(Ee,t);const h=S(null);function d(v,z=!1){const M=v.key;if(!M)return;const m=t.getItem(String(M));if(!m)return;const g=!m.static&&!e.disabledDrag,k=!m.static&&!e.disabledResize,f={x:m.x,y:m.y,width:m.w,height:m.h,isDraggable:g,isResizable:k,scale:m.scale,droppingPosition:z?n.position.value:void 0,dragEndFn:(w,i)=>{const{x:D,y:F}=i,R=t.moveTo(m,D,F);a("update:modelValue",R),h.value=null},dragStartFn:()=>{},dragFn:(w,i)=>{if(!m)return;const D={x:m.x,y:m.y,width:m.w,height:m.h},{x:F,y:R}=i;t.moveTo(m,F,R),h.value=D},resizeFn:(w,i)=>{const D={x:m.x,y:m.y,width:m.w,height:m.h};h.value=D;const{w:F,h:R}=i;t.resizeTo(m,F,R)},resizeStopFn:(w,i)=>{const{w:D,h:F}=i,R=t.resizeTo(m,D,F);a("update:modelValue",R),h.value=null}};return O(Fe,{},f)({default:()=>v})}function b(){if(!h.value)return null;const{x:v,y:z,width:M,height:m}=h.value;return O(Fe,{class:"vv-grid-layout--placeholder"},{x:v,y:z,width:M,height:m,move:!1})()}function c(){const v=t.getFull(),z=t.normalize(v.filter(M=>M.i!==e.droppingItem.i));t.setFull(z)}let r=0;function y(v){v.stopPropagation(),v.preventDefault();const z=t.getItem(e.droppingItem.i);c(),n.droppingNode.value=null,n.position.value=null,h.value=null,r=0,a("dropItem",z)}function o(v){v.stopPropagation(),v.preventDefault(),--r,r===0&&c()}function s(v){v.stopPropagation(),v.preventDefault(),++r}return{processItem:d,placeholder:b,onDrop:y,onDragLeave:o,onDragEnter:s,layout:t,droppingItem:n}},render(){const e={...this.$attrs.style||{},height:this.layout.calContainerHeight()},t=[...(Array.isArray(this.$attrs.class)?this.$attrs.class:[this.$attrs.class])||[],"vv-grid-layout"],n=typeof this.$slots.default=="function"?this.$slots.default():this.$slots.default||[],h=Pe(n);return G("div",{class:t,style:e,onDragover:this.droppable?this.droppingItem.onDropover:Q,onDrop:this.droppable?this.onDrop:Q,onDragleave:this.droppable?this.onDragLeave:Q,onDragenter:this.droppable?this.onDragEnter:Q},[h.map(d=>(d.type===he&&this.processItem(d),this.processItem(d))),this.droppable&&this.droppingItem.droppingNode.value&&this.processItem(this.droppingItem.droppingNode.value(),!0),this.placeholder()])}});function Q(){}function Pe(e){const a=[];return e.forEach(t=>{t.type===he&&Array.isArray(t.children)?a.push(...Pe(t.children)):a.push(t)}),a}const $t=Dt,Ht=Mt,Lt=Ft;export{Lt as F,Ht as G,Pt as _,$t as a,ft as b,Bt as c,It as g};
